tags:
  - name: 'Password'
    description: Manage user's password

paths:
  /password/change:
    post:
      tags:
        - Password
      summary: Change user's password & logout.
      produces:
        - application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Change'
      responses:
        '200':
          description: Change pasword done
      security:
        - BearerAuth: []
  /password/reset:
    post:
      tags:
        - Password
      summary: Get sms for change password.
      produces:
        - application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/ResetGetSMS'
      responses:
        '200':
          description: SMS send done
    patch:
      tags:
        - Password
      summary: Reset password by SMS code & return token.
      produces:
        - application/json
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/ResetSendSMS'
      responses:
        '200':
          description: SMS send done

definitions:
  Change:
    type: object
    properties:
      password:
        type: string
        example: '1111'
  ResetGetSMS:
    type: object
    properties:
      phone:
        type: string
        example: '123456789'
  ResetSendSMS:
    type: object
    properties:
      sms_code:
        type: string
        example: '123456789'
      password:
        type: string
        example: '123456789'
